<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contour Map Demo</title>
    <meta name="robots" content="index, follow">
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <h1>Caching</h1>
    <p>Welcome to the caching thingy</p>
    
    <script type="text/javascript" src="js/jquery-latest.min.js"></script>
    <script type="text/javascript">
        if(typeof(Storage) !== "undefined") {
            if (localStorage.getItem('jsondata') === null) {
                $.ajax({
                    url: "http://preview-app.contour7.be/gateway/programme/complete",
                    type: 'GET',
                    success: function (resp) {
                        localStorage.setItem('jsondata', JSON.stringify(resp));
                        console.log(resp);
                    },
                    error: function(e) {
                        console.log('Error: '+e);
                    }  
                });
                console.log('Json cached');
            } else {
                console.log('Already cached');
            }
        } else {
            alert('Could not be cached');
        }
    </script>
</body>
</html>